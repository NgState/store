!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/platform-browser"),require("@angular/common"),require("@angular/router"),require("rxjs/operators"),require("@angular/core"),require("rxjs"),require("@ng-state/data-strategy")):"function"==typeof define&&define.amd?define("@ng-state/store",["exports","@angular/platform-browser","@angular/common","@angular/router","rxjs/operators","@angular/core","rxjs","@ng-state/data-strategy"],e):e((t["ng-state"]=t["ng-state"]||{},t["ng-state"].store={}),t.ng.platformBrowser,t.ng.common,t.ng.router,t.rxjs.operators,t.ng.core,t.rxjs,t.dataStrategy)}(this,function(t,i,e,r,a,s,h,f){"use strict";var u=function ct(t,e){this.type=t,this.payload=e},g=(Object.defineProperty(n.prototype,"observable",{get:function(){return this.subject.asObservable()},enumerable:!0,configurable:!0}),n.prototype.getMessagesOfType=function(e){return this.subject.pipe(a.filter(function(t){return t.type===e}),a.share())},n.prototype.publish=function(t,e){t=t.type!==undefined?t:new u(t,e),this.subject.next(t)},n.prototype.subscribe=function(t,e,n,o){return t=t.prototype instanceof u?(new t).type:t,this.getMessagesOfType(t).pipe(a.map(function(t){return t.payload})).subscribe(e,n,o)},n.decorators=[{type:s.Injectable}],n);function n(){this.subject=new h.Subject}var l=(o.injector=null,o);function o(){}var c=(p.prototype.init=function(){this.dataStrategy=l.injector.get(f.DataStrategy),this.initRouter(),this.bindRouter()},p.prototype.initRouter=function(){var e=this;this.router.events.pipe(a.filter(function(t){return t instanceof r.RoutesRecognized}),a.take(1)).subscribe(function(t){e.store.initialize(["router"],{url:t.url},!1)})},p.prototype.bindRouter=function(){var n=this;if(this.router.events){var t=-1;this.router.events.pipe(a.filter(function(){return n.debugInfo&&!n.debugInfo.isTimeTravel})).subscribe(function(e){e instanceof r.NavigationCancel&&(t=e.id),e instanceof r.NavigationEnd&&e.id!==t&&n.store.select(["router"]).update(function(t){n.dataStrategy.set(t,"url",e.url)})})}},p.startingRoute="",p);function p(t,e,n){this.store=t,this.router=e,this.debugInfo=n}var y=function(t,e){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function d(t,e){function n(){this.constructor=t}y(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var b=function(){return(b=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function S(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||0<e--)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i["return"])&&n.call(i)}finally{if(r)throw r.error}}return s}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(S(arguments[e]));return t}var T,m=(d(I,T=h.BehaviorSubject),I);function I(t,e){return e.overrideContructor(t),T.call(this,e.fromJS(t))||this}var O=(Object.defineProperty(j.prototype,"currentState",{get:function(){return P.CURRENT_STATE},enumerable:!0,configurable:!0}),Object.defineProperty(j.prototype,"history",{get:function(){return P.HISTORY},enumerable:!0,configurable:!0}),Object.defineProperty(j.prototype,"storeHistoryItems",{get:function(){return this.options.storeHistoryItems},enumerable:!0,configurable:!0}),j.prototype.init=function(t){j.initialState=t},j.prototype.changeDefaults=function(t){this.options=b({},this.options,t)},j.prototype.setCurrentState=function(t){P.CURRENT_STATE=t},j.prototype.add=function(t){this.options.collectHistory&&(P.HISTORY.length>=this.options.storeHistoryItems&&P.HISTORY.shift(),P.HISTORY.push(t))},j.initialState={},j.decorators=[{type:s.Injectable}],j);function j(){this.options={collectHistory:!0,storeHistoryItems:100}}var P=(D.CURRENT_STATE=null,D.HISTORY=[],D);function D(){}var C=function pt(e){var n=l.injector.get(f.DataStrategy);if("object"!=typeof e)throw new TypeError("Unexpected type "+typeof e+" in select operator, expected 'object' or 'function'");return this.pipe(a.map(function(t){return n.getIn(t,e)}),a.takeWhile(function(t){return t!==undefined}),a.distinctUntilChanged())},w=(Object.defineProperty(k.prototype,"publicApi",{get:function(){return{start:this.start,stop:this.stop}},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"isDebugMode",{get:function(){return this.debugMode},enumerable:!0,configurable:!0}),k.prototype.init=function(t){this.debugMode=t,this.setWithDevTools(),this.withDevTools&&t&&this.trackWithDevTools([])},k.prototype.changeDefaults=function(t){this.options=b({},this.options,t)},k.prototype.add=function(t){this.debugMode&&(this.debugInfo=b({},t))},k.prototype.onStateChange=function(t,e){this.debugMode&&!this.isTimeTravel&&this.logDebugInfo(t,e)},k.prototype.turnOnTimeTravel=function(){this.isTimeTravel=!0},k.prototype.turnOffTimeTravel=function(){this.isTimeTravel=!1},k.prototype.logDebugInfo=function(t,e){var n=this.debugStatePath&&this.dataStrategy.getIn(t,this.debugStatePath)||t;this.dataStrategy.isObject(n)&&(n=this.dataStrategy.toJS(n));var o=this.getDebugMessage();this.consoleLog(o,n),this.withDevTools&&(e?this.devTools.init(n):this.devTools.send(o,n),this.stateHistory.add({message:o,state:n}),this.debugInfo=null)},k.prototype.consoleLog=function(t,e){this.options.enableConsoleOutput&&console.info(t,e)},k.prototype.getDebugMessage=function(){var t="@state/";return this.debugInfo?(t+=this.debugInfo.statePath.join("/")+" - ",t+=""+(this.debugInfo.message?this.debugInfo.message.toUpperCase():this.debugInfo.actionType||"")):""+t+this.getDebugStatePath()},k.prototype.getDebugStatePath=function(){return this.debugStatePath&&0<this.debugStatePath.length?this.debugStatePath.join("->"):"root"},k.prototype.trackWithDevTools=function(e){var n=this;this.withDevTools&&!this.devTools&&(this.zone.run(function(){n.devTools=window.__REDUX_DEVTOOLS_EXTENSION__.connect({maxAge:n.stateHistory.storeHistoryItems})}),this.devToolsSubscription=this.devTools.subscribe(function(t){"DISPATCH"!==t.type||"JUMP_TO_ACTION"!==t.payload.type&&"JUMP_TO_STATE"!==t.payload.type||n.onApplyHistory.next({state:n.dataStrategy.fromJS(JSON.parse(t.state)),statePath:e})}))},k.prototype.stopTrackingWithDevTools=function(){this.withDevTools&&(this.withDevTools=!1,window.__REDUX_DEVTOOLS_EXTENSION__.disconnect(),this.devToolsSubscription(),this.devTools=null)},k.prototype.setWithDevTools=function(){this.withDevTools=this.options.enableDevToolsOutput&&"undefined"!=typeof window&&!!window.__REDUX_DEVTOOLS_EXTENSION__},k.instance=null,k.decorators=[{type:s.Injectable}],k.ctorParameters=function(){return[{type:O},{type:s.NgZone},{type:f.DataStrategy}]},k);function k(t,e,n){var o=this;this.stateHistory=t,this.zone=e,this.dataStrategy=n,this.debugInfo=null,this.debugStatePath=null,this.devTools=null,this.devToolsSubscription=null,this.options={enableConsoleOutput:!0,enableDevToolsOutput:!0},this.isTimeTravel=!1,this.onApplyHistory=new h.Subject,this.start=function(t){void 0===t&&(t=[]),o.debugStatePath=t,o.debugMode=!0,o.stopTrackingWithDevTools(),o.setWithDevTools(),o.trackWithDevTools(t),o.onStateChange(o.stateHistory.currentState,!0)},this.stop=function(){o.debugMode=!1,o.stopTrackingWithDevTools()}}var _=function ht(t,e){void 0===e&&(e={});var n={actionType:"UPDATE",statePath:this.statePath};w.instance.add(b({},n,e));var o=l.injector.get(f.DataStrategy);try{o.update(this.statePath,t)}catch(r){console.error(r)}},E=function ft(r,i){void 0===i&&(i=null);var s="__initialized",t=function(t){var e=l.injector.get(f.DataStrategy);if(!e.getIn(t,v(r,[s]))){var n;e.overrideContructor(i),i.constructor=Object,i=e.fromJS(i),i=e.set(i,s,!0);try{n=e.setIn(t,r,i),this.newStore=this.select(r),this.newStore.initialState=i,this.newStore.rootPath=r}catch(o){console.error(o)}this.source.next(n)}}.bind(this),e={actionType:"INITIALIZE",statePath:r};return w.instance.add(e),this.pipe(a.tap(t),a.take(1)).subscribe(),this.newStore},R=function gt(e){return this.pipe(a.map(function(t){return e(t)}))},x=function lt(r){void 0===r&&(r=null);var i=l.injector.get(f.DataStrategy);if(!i.isObject(i.getIn(P.CURRENT_STATE,this.statePath)))throw new Error("Cannot resotre state at path: "+this.statePath+". Maybe you are trying to restore value rather then state.");!function(e){var t=e.statePath.filter(function(t){return!e.rootPath.includes(t)});if(Array.isArray(t)&&0===t.length)i.resetRoot(O.initialState,c.startingRoute);else{var n=e.initialState?e.initialState:i.fromJS(O.initialState);n=i.getIn(n,t),i.reset(e.statePath,n)}var o={actionType:"RESET",statePath:t,debugMessage:r};w.instance.add(o)}(this)},H=(A.prototype.bind=function(t,e){return void 0===e&&(e={}),this.dataStrategy=l.injector.get(f.DataStrategy),this.form=t,this.params=b({debounceTime:100,emitEvent:!1},e),this.setInitialValue(),this.subscribeToFormChange(),this},A.prototype.reset=function(){this.store.reset()},A.prototype.destroy=function(){this.unsubscribe.next(!0),this.unsubscribe.complete(),this.form=null,this.store=null,this.onChangeFn=null,this.shouldUpdateStateFn=null},A.prototype.onChange=function(t){return this.onChangeFn=t,this},A.prototype.shouldUpdateState=function(t){return this.shouldUpdateStateFn=t,this},A.prototype.setInitialValue=function(){var e=this;this.store.pipe(a.distinctUntilChanged(),a.takeUntil(this.unsubscribe)).subscribe(function(t){e.form.patchValue(e.dataStrategy.toJS(t),{emitEvent:e.params.emitEvent})})},A.prototype.subscribeToFormChange=function(){var o=this;this.form.valueChanges.pipe(a.debounceTime(this.params.debounceTime),a.distinctUntilChanged(),a.takeUntil(this.unsubscribe)).subscribe(function(e){var n=!1;o.store.update(function(t){n=o.executeUpdate(e,t)}),n&&o.onChangeCall()})},A.prototype.executeUpdate=function(t,e){return this.shouldUpdateStateFn?!!this.shouldUpdateStateFn({form:this.form,state:e,value:t})&&(this.dataStrategy.merge(e,this.dataStrategy.fromJS(t)),!0):(this.dataStrategy.merge(e,this.dataStrategy.fromJS(t)),!0)},A.prototype.onChangeCall=function(){var e=this;this.onChangeFn&&this.store.pipe(a.take(1)).subscribe(function(t){e.onChangeFn(e.dataStrategy.toJS(t))})},A);function A(t){this.unsubscribe=new h.Subject,this.store=t}var N=(M.configureStorage=function(t,e){M.customStorageConfig.storageConfig={storage:t,getKeys:e}},M.configureSerializer=function(t,e){M.customStorageConfig.serialize=t,M.customStorageConfig.deserialize=e},M.prototype.save=function(n){var t=this,o=l.injector.get(f.DataStrategy),r=new h.ReplaySubject(1);return n=this.getParams(n,this.store),this.store.pipe(a.tap(function(e){t.resolve(n.storageConfig.storage.setItem(n.key,n.serialize(o.toJS(e)))).pipe(a.take(1)).subscribe(function(t){r.next({key:n.key,data:o.toJS(e)})})}),a.take(1)).subscribe(),r.asObservable().pipe(a.take(1))},M.prototype.load=function(n,t){var o=this;void 0===t&&(t=!1);var r=l.injector.get(f.DataStrategy),i=new h.ReplaySubject(1);return n=this.getParams(n,this.store),this.resolve(n.storageConfig.storage.getItem(n.key)).pipe(a.take(1)).subscribe(function(e){o.store.update(function(t){r.merge(t,r.fromJS(n.deserialize(e)))}),t||o.removeAction(n),i.next({key:n.key,data:e})}),i.asObservable().pipe(a.take(1))},M.prototype.remove=function(t){return t=this.getParams(t,this.store),this.removeAction(t)},M.prototype.clear=function(n){var o=this,e=new h.ReplaySubject(1),r=[];return n=this.getParams(n,this.store),this.resolve(n.storageConfig.getKeys()).pipe(a.take(1)).subscribe(function(t){t.filter(function(t){return t.startsWith(o.prefix)}).map(function(t){var e=b({},n);e.key=t,r.push(o.removeAction(e))}),h.forkJoin(r).pipe(a.take(1)).subscribe(function(t){e.next(t)})}),e.asObservable().pipe(a.take(1))},M.prototype.removeAction=function(e){var n=new h.ReplaySubject(1);return this.resolve(e.storageConfig.storage.removeItem(e.key)).pipe(a.take(1)).subscribe(function(t){n.next(e.key)}),n.asObservable().pipe(a.take(1))},M.prototype.getParams=function(t,e){return this.setDefaultStorage(),(t=b({},this.defaults,M.customStorageConfig,t)).key||(t.key=e.statePath.join(".")),t.key=""+this.prefix+t.key,t},M.prototype.setDefaultStorage=function(){this.defaults.storageConfig||(this.defaults.storageConfig={storage:localStorage,getKeys:function(){return Object.keys(localStorage)}})},M.prototype.isPromise=function(t){return t&&"function"==typeof t.then},M.prototype.resolve=function(t){return this.isPromise(t)||h.isObservable(t)?h.from(t):h.of(t)},M.customStorageConfig={},M);function M(t){this.store=t,this.prefix="state::",this.defaults={key:"",storageConfig:null,deserialize:JSON.parse,serialize:JSON.stringify}}var U,F=(d(J,U=h.Observable),J.prototype.lift=function(t){var e=new J(this);return e.operator=t,e},J.prototype.error=function(t){console.log(t)},J.prototype.next=function(t){this.source.next(t)},J.prototype.complete=function(){},J.prototype.initializeOperators=function(t){t.update=_.bind(t),t.initialize=E.bind(t),t.reset=x.bind(t),t.map=R.bind(t),t.form=new H(t),t.storage=new N(t)},J);function J(t){var n=U.call(this)||this;return n.statePath=[],n.rootPath=[],n.select=function(t){var e=C.bind(n).call(n,t);return e.statePath=v(n.statePath,t),e.rootPath=n.rootPath,e.initialState=n.initialState,n.initializeOperators(e),e},n.source=t,n.initializeOperators(n),n}var z=(V.prototype.init=function(){var n=this;this.store.subscribe(function(t){var e=!n.history.currentState;n.history.setCurrentState(t),n.debugerInfo.onStateChange(t,e),n.onHistoryChange.next(!0)}),this.debugerInfo.onApplyHistory.subscribe(this.applyHistory)},V.prototype.applyState=function(e,n){var o=this;0===n.length?this.store.next(e):this.store.update(function(t){o.dataStrategy.setIn(t,n,e,{fromUpdate:!0})})},V);function V(t,e,n,o,r){var i=this;this.store=t,this.history=e,this.debugerInfo=n,this.router=o,this.dataStrategy=r,this.onHistoryChange=new h.Subject,this.applyHistory=function(e){i.debugerInfo.turnOnTimeTravel();var t=i.dataStrategy.getIn(e.state,["router","url"]);t&&i.router.url!==t?i.router.navigateByUrl(t).then(function(t){i.applyState(e.state,e.statePath)}):i.applyState(e.state,e.statePath),i.onHistoryChange.pipe(a.take(1)).subscribe(function(t){i.debugerInfo.turnOffTimeTravel()})}}var W=new s.InjectionToken("RESTORE_FROM_SERVER"),L="state",q=new s.InjectionToken("INITIAL_STATE"),K=new s.InjectionToken("NG_STATE_OPTIONS"),X=new s.InjectionToken("IS_PROD"),Y=new s.InjectionToken("IS_TEST");function B(t,e,n,o){if(n&&o){var r=i.makeStateKey(L);n.hasKey(r)&&(t=n.get(r,t))}return new m(t,e)}function G(t){return new F(t)}function Z(t,e,n,o,r){return new z(t,e,n,o,r)}function $(t,e,n){return new c(t,e,n)}function Q(t,e,n){return new w(t,e,n)}var tt=(et.provideStore=function(t,e,n,o){return void 0===n&&(n={}),{ngModule:et,providers:[{provide:K,useValue:n},{provide:q,useValue:t},{provide:X,useValue:e},{provide:Y,useValue:!1},{provide:W,useValue:o},{provide:m,useFactory:B,deps:[q,f.DataStrategy,i.TransferState,W]},{provide:F,useFactory:G,deps:[m]},{provide:O,useClass:O},{provide:w,useFactory:Q,deps:[O,s.NgZone,f.DataStrategy]},{provide:z,useFactory:Z,deps:[F,O,w,r.Router,f.DataStrategy]},{provide:c,useFactory:$,deps:[F,r.Router,w]},g]}},et.prototype.initStateHistory=function(t,e){e&&e.history&&this.stateHistory.changeDefaults(e.history),this.stateHistory.init(t)},et.prototype.initDebugger=function(t){w.instance=this.debugInfo,t&&t["debugger"]&&(t["debugger"].options&&this.debugInfo.changeDefaults(t["debugger"].options),t["debugger"].enableInitialDebugging&&this.debugInfo.init(!0))},et.decorators=[{type:s.NgModule,args:[{imports:[e.CommonModule]}]}],et.ctorParameters=function(){return[{type:O},{type:w},{type:s.Injector},{type:z},{type:c},{type:f.DataStrategy},{type:F},{type:undefined,decorators:[{type:s.Inject,args:[q]}]},{type:undefined,decorators:[{type:s.Inject,args:[K]}]},{type:undefined,decorators:[{type:s.Inject,args:[X]}]}]},et);function et(t,e,n,o,r,i,s,a,u,c){this.stateHistory=t,this.debugInfo=e,l.injector=n,this.initStateHistory(a,u),this.initDebugger(u),o.init(),r.init(),window.state={history:P,debug:e.publicApi},i.init(s,c)}var nt=(ot.setTestEnvironment=function(t){var o=this;this.dependencyInjection=[],this.dependencyInjection.push({key:this.getMockName(Y),value:!0}),this.dependencyInjection.push({key:this.getMockName(f.DataStrategy),value:t}),l.injector={get:function(t){var e=o.getMockName(t),n=o.dependencyInjection.find(function(t){return t.key===e});if(!n)throw new Error("Mock is not found for: "+t);return n.value}},this.dataStrategy=t},ot.createStore=function(t){var e=G(B(t,this.dataStrategy));this.dataStrategy.init(e,!1);var n=new O;n.init(t);var o=new w(n,{run:function(){}},this.dataStrategy);return w.instance=o,new z(e,n,o,{navigateByUrl:function(){return new Promise(function(){})}},this.dataStrategy).init(),this.dependencyInjection.push({key:this.getMockName(F),value:e}),e},ot.getMockName=function(t){return t===Y?"IS_TEST":"function"!==t.constructor.name.toLowerCase()?t.constructor.name:t.prototype.constructor.name},ot.createActions=function(t,e,n){void 0===e&&(e={}),void 0===n&&(n=[]),this.createStore(e);var o=new t;return o.createTestStore(ot.getPath(n)),o},ot.setActionsToComponent=function(t,e){e.actions=t},ot.getPath=function(t){return t instanceof Array?t:t=t.split("/")},ot.dataStrategy=null,ot.dependencyInjection=[],ot);function ot(){}var rt=(it.guid=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+t()+t()+t()+t()+t()+t()},it);function it(){}var st=(at.prototype.ngOnInit=function(){},at.prototype.ngOnChanges=function(t){},at.prototype.ngOnDestroy=function(){},at.propDecorators={statePath:[{type:s.Input}],stateIndex:[{type:s.Input}]},at);function at(t){this.stateIndex=null,this.cd=t}function ut(){this.store=null,this.state=null}t.stateFactory=B,t.storeFactory=G,t.historyControllerFactory=Z,t.routerStateFactory=$,t.debugInfoFactory=Q,t.RESTORE_FROM_SERVER=W,t.TRANSFER_STATE_KEY=L,t.INITIAL_STATE=q,t.NG_STATE_OPTIONS=K,t.IS_PROD=X,t.IS_TEST=Y,t.StoreModule=tt,t.NgStateTestBed=nt,t.State=m,t.StateHistory=O,t.StateKeeper=P,t.HistoryController=z,t.Store=F,t.Initialize=E,t.Select=C,t.Update=_,t.Reset=x,t.NgFormStateManager=H,t.PersistStateManager=N,t.Helpers=rt,t.ServiceLocator=l,t.Message=u,t.Dispatcher=g,t.ComponentState=function yt(r,i){return void 0===i&&(i=!0),function(t){var n=t.prototype.ngOnInit||function(){},e=t.prototype.ngOnDestroy||function(){},o=t.prototype.ngOnChanges||function(){};t.prototype.ngOnChanges=function(t){i&&!this.actions||o.apply(this,arguments)},t.prototype.ngOnInit=function(){var t=this;if(l.injector.get(Y))n.apply(this,arguments);else{if(this.statePath||(this.statePath=[]),r){(function(){this.cd||(this.cd=l.injector.get(s.ChangeDetectorRef))}).apply(this);var e=new(""===r.name?r(this):r);this.statePath=e.createStore(this.statePath,this.stateIndex),this.stateChangeSubscription=l.injector.get(g).subscribe(e.aId,function(){t.cd.markForCheck()}),this.actions=e}n.apply(this,arguments)}},t.prototype.ngOnDestroy=function(){this.actions&&this.actions.onDestroy(),this.stateChangeSubscription&&this.stateChangeSubscription.unsubscribe(),e.apply(this,arguments)}}},t.HasStateActions=st,t.InjectStore=function dt(a,u,c){function p(n){(function(t){var e=Reflect.getPrototypeOf(t);return Object.entries(Object.getOwnPropertyDescriptors(e)).map(function(t){var e=S(t,2);return{name:e[0],isGetter:"function"==typeof e[1].get}}).filter(function(t){return t.isGetter}).map(function(t){return t.name})})(n).forEach(function(t){var e=n[t];e instanceof h.Observable&&(delete n[t],Object.defineProperty(n,t,{value:e}))})}return void 0===u&&(u=null),void 0===c&&(c=!1),function(t){t.prototype.createStore=function(t,e){var n=this;this.aId=rt.guid();var o="function"==typeof a&&""===a.name?a(t,e):a,r="string"==typeof o?function(n,t){var o=t.split("/");"string"!=typeof n&&"number"!=typeof n||(n=[n]);var r=0;return o.forEach(function(t,e){if("${stateIndex}"===t){if(n.length<=r)throw new Error("State path "+a+" has not enough stateIndexes set. Please provide stateIndexes as array in the same order as set in statePath.");o[e]=n[r],r++}}),o}(e,o):function(t,e,n){return v(t,n.map(function(t){return"${stateIndex}"===t?e:t}))}(t,e,o),i=l.injector.get(F),s=l.injector.get(g);return this.store=u?i.initialize(r,u):i.select(r),this.stateChangeSubscription=this.store.subscribe(function(t){if(n.state=t,s.publish(n.aId),c&&t.toJS){var e=l.injector.get(f.DataStrategy);console.info(e.toJS(t))}}),p(this),r},t.prototype.createTestStore=function(t){var e=l.injector.get(F);this.store=e.select(t);var n=this;this.stateChangeSubscription=this.store.subscribe(function(t){n.state=t})},t.prototype.onDestroy=function(){this.stateChangeSubscription.unsubscribe()}}},t.HasStore=ut,t.RouterState=c,t.DebugInfo=w,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ng-state-store.umd.min.js.map